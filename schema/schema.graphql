# Composed GraphQL Schema
# This file is auto-generated by scripts/compose-schema.ts
# Do not edit this file directly. Edit domain schemas instead.

# === CLAIMS DOMAIN ===
# Claim Domain Schema

type Claim {
  claimId: ID!
  customerId: ID!
  policyId: ID
  claimType: String!
  status: String!
  amount: Float
  submittedAt: AWSDateTime!
  updatedAt: AWSDateTime!
}



type ClaimConnection {
  items: [Claim!]!
  nextToken: String
}

type ClaimWithCustomer {
  claim: Claim!
  customer: Customer!
}

# === CUSTOMERS DOMAIN ===
# Customer Domain Schema

type Customer {
  customerId: ID!
  fullName: String!
  email: String
  phone: String
  updatedAt: AWSDateTime!
}

# Import Claim types (will be merged by compose-schema.ts)
# Claim and ClaimConnection are defined in claims domain

type CustomerWithClaims {
  customer: Customer!
  claims: ClaimConnection!
}

type Query {
  listClaimsByCustomer(customerId: ID!, limit: Int, nextToken: String): ClaimConnection
  getClaimWithCustomer(claimId: ID!): ClaimWithCustomer
  listClaimsByCustomerAurora(customerId: ID!, limit: Int, nextToken: String): ClaimConnection
  getClaimWithCustomerAurora(claimId: ID!): ClaimWithCustomer
  getCustomer(customerId: ID!): Customer
  getCustomerByPhone(phone: String!): Customer
  getCustomerByPhoneLambda(phone: String!): Customer
  getCustomerByEmail(email: String!): Customer
  getCustomerWithClaims(customerId: ID!, limit: Int, nextToken: String): CustomerWithClaims
  getCustomerAurora(customerId: ID!): Customer
  getCustomerByPhoneAurora(phone: String!): Customer
  getCustomerByEmailAurora(email: String!): Customer
  getCustomerWithClaimsAurora(customerId: ID!, limit: Int, nextToken: String): CustomerWithClaims
}

schema {
  query: Query
}